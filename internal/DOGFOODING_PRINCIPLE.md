# Dogfooding Principle

## Core Principle
**Every improvement we make to this repository should propagate to projects generated by the tool.**

If a feature is valuable enough to implement in the claude-setup project itself, it's valuable enough to provide to all users of the tool.

## Examples of Dogfooding

### ‚úÖ Current Examples
- **Claude Usage Estimation**: We added `/estimate` with Claude cost calculation - this gets installed in all generated projects
- **Recovery System**: We use `/recovery-assess`, `/recovery-plan`, `/recovery-execute` - users get these commands too
- **AST-based Ideation**: We implemented `/ideation` with code analysis - available to all projects

### üîÑ Missing Dogfooding (To Implement)
- **Documentation Sync**: We have automated README/ESTIMATES.md sync - users should get this too
- **Test Infrastructure**: We fixed ES module Jest setup - generated projects should have working tests from day one
- **Claude Integration**: Our CLAUDE.md has AI Integrity Principles - all projects should get these guidelines

## Implementation Strategy

### 1. Template Updates
When we add functionality to this repo, immediately update templates:
- `templates/CLAUDE.md` - Add new command patterns
- CLI command installation - Include new commands in setup
- `templates/package.json` - Add new npm scripts

### 2. Library Code Sharing
Valuable utilities should be available to generated projects:
- Copy `lib/claude-estimator.js` to generated projects
- Copy `lib/readme-updater.js` (adapted for user projects)
- Provide consistent development infrastructure

### 3. Validation Process
Before pushing changes:
1. **Test on this repo**: Implement and validate the improvement
2. **Update templates**: Ensure generated projects get the same benefit
3. **Test generation**: Create a test project and verify the feature works
4. **Document benefit**: Update README to explain the new capability

## Current Implementation Status

### ‚úÖ Implemented Dogfooding
- Custom commands (19 commands) installed in all projects
- Claude usage estimation available to all users
- Quality infrastructure templates match our internal setup
- AI collaboration guidelines propagated via CLAUDE.md
- Documentation sync utilities: `lib/readme-updater.js` and `/update-docs` command
- NPM scripts: `update-readme` script for JavaScript projects

### üöß Partial Dogfooding  
- Test infrastructure: We fixed it, but generated projects may still have issues
- Advanced command patterns: Some commands are too specific to claude-setup

### ‚ùå Missing Dogfooding
- Advanced development workflows we use internally
- Specific utilities that would benefit any Claude Code project
- Quality automation beyond basic linting

## Action Items

### Immediate (Next Session)
1. ‚úÖ Copy `lib/readme-updater.js` to templates with adaptation for user projects
2. ‚úÖ Add `npm run update-readme` to generated package.json templates  
3. ‚úÖ Add `/update-docs` command to default command installation

### Medium Term
1. Create "universal utilities" that work for any project type
2. Establish template testing framework
3. Add validation that ensures templates match our internal practices

### Long Term
1. Consider plugin architecture for advanced features
2. Create feedback loop from user projects back to this tool
3. Automated testing of generated project quality

## Key Insight
**We are the primary user of this tool.** If we implement something that improves our development experience, our users deserve the same improvement. The tool should generate projects that are at least as well-equipped as this project itself.